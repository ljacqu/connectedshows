<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Show Connections &mdash; Make Graph File</title>
    <link rel="stylesheet" type="text/css" href="./inc/style.css">
    <script type="text/javascript" src="./inc/formtoggle.js"></script>
  </head>
  <body onload="checkallbox('all', 'shows[]')">
    <div class="crumbs"><a href="index.php">Main</a> &raquo; View TV Show Connections</div>
    <h1>View TV Show Connections</h1>
    {result}
    <div class="error">{form_error}</div>

    <!-- Saved configurations -->
    <p style="font-size: 0.9em; border-bottom: 1px solid #ccc">
      Saved configurations:
      <select name="set" class="js-config-select"></select>
      <button type="button" style="display: none" class="js-config-reapplybtn" title="Reset the values to the selected configuration">Re-apply</button>
      <button type="button" style="display: none" class="js-config-updatebtn" title="Saves the current values to the selected configuration">Update</button>
      <button type="button" style="display: none" class="js-config-deletebtn" title="Deletes the selected configuration">Delete</button>
    </p>
    <!-- /Saved configurations -->

    <form method="post">
      File name: <input type="text" name="file" value="{file}">
      <br>Only within selected shows: <input type="checkbox" name="limited" [limit_to_selection]checked="checked"[/limit_to_selection]>
      <br>Episode threshold: <input type="text" name="threshold" value="{threshold}">
      <br><span style="font-size: 0.8em">In order to consider an actor as connection, he must have played
       in at least as many episodes as the threshold in either show.</span>
      <br>
      <br>Threshold type: 
      <br>Threshold <var>t</var> must be &gt;=
      [#types]
        <input type="radio" name="type" value="{type}" id="t_{type}" [type_checked]checked="checked"[/type_checked]>
        <label for="t_{type}">{type_text}</label>
      [/#types]
      <br>Unit
      [#units]
        <input type="radio" name="unit" value="{unit_code}" id="u_{unit_code}" [unit_checked]checked="checked"[/unit_checked]>
        <label for="u_{unit_code}">{unit_text}</label>
      [/#units]
      <br><label for="all">All:</label> <input type="checkbox" id="all" name="all" onchange="toggleboxes(this, 'shows[]')">

      [#all_shows]
      <br><label><input type="checkbox" name="shows[]" class="js-show-checkbox"
      value="{id}" id="s{id}" [is_checked]checked="checked"[/is_checked]>
      {title}</label>
      [/#all_shows]
      <br><input type="submit" class="submit" value="Create graph">
    </form>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js" type="text/javascript"></script>
    <script src="js/saved_configs/saved_configs_handler.js" type="text/javascript"></script>
  </body>
</html>